var data={bookList:[{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0},{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:1}],student:{studentId:"123456789",name:"吴楠1",sex:"女",libraryCardNo:"12345678",classId:"123",studyState:0,telephone:"123456789",email:"1030****@qq.com",books:"世界简史,编年史"},bookInfo:{bookId:1,bookName:"马克思列宁主义",author:"马克思",publishingHouse:"新华",type:"小说",num:10,canLend:0,bookBriefIntroduction:"hahahahaha",pages:500,version:"第四版"}};$(function(){var t={getBookInfoData:function(t,o,d){var a='<div class="data-render"><table class="table table-hover" id="Pui">';a+="<thead><tr>",a+="<td><p>书籍编号</p></td>",a+="<td><p>书籍名称</p></td>",a+="<td><p>书籍作者</p></td>",a+="<td><p>出版社</p></td>",a+="<td><p>书籍类型</p></td>",a+="<td><p>是否可借</p></td>",a+="</tr></thead>";for(var e=0;o>e;e++){var n=o*(t-1)+e;if(n+1>d.length)break;a+='<tr class="show-detail-info" data-toggle="modal" data-target="#book-detail-info">',a+="<td><p>"+d[n].bookId+"</p></td>",a+="<td><p>"+d[n].bookName+"</p></td>",a+="<td><p>"+d[n].author+"</p></td>",a+="<td><p>"+d[n].publishingHouse+"</p></td>",a+="<td><p>"+d[n].type+"</p></td>",a+=0==d[n].canLend?'<td><button class="btn btn-large btn-primary" type="button" style="width: 74px">借阅</button>':'<td><p class="text-success">已经借出去</p></td>',a+="</tr>"}a+="</table></div>",$("#book-info-pager-div").html(a)},checkBookCondition:function(t,o,d){var a='<div class="data-render"><table class="table table-hover" id="Pui">';a+="<thead><tr>",a+="<td><p>书籍编号</p></td>",a+="<td><p>书籍名称</p></td>",a+="<td><p>书籍作者</p></td>",a+="<td><p>出版社</p></td>",a+="<td><p>书籍类型</p></td>",a+="<td><p>书籍剩余数量</p></td>",a+="</tr></thead>";for(var e=0;o>e;e++){var n=o*(t-1)+e;if(n+1>d.length)break;a+="<tr>",a+="<td><p>"+d[n].bookId+"</p></td>",a+="<td><p>"+d[n].bookName+"</p></td>",a+="<td><p>"+d[n].author+"</p></td>",a+="<td><p>"+d[n].publishingHouse+"</p></td>",a+="<td><p>"+d[n].type+"</p></td>",a+=0==d[n].canLend?'<td><button class="btn btn-large btn-primary" type="button" style="width: 74px">借阅</button>':'<td><p class="text-success">已经借出去</p></td>',a+='<td><button class="btn btn-primary" data-toggle="modal"data-target="#lendModal">借书</button></td>',a+='<td><button class="btn btn-primary" data-toggle="modal"data-target="#returnModal">还书</button></td>',a+="</tr>"}a+="</table></div>",$("#book-read-info-pager-div").html(a)},setSelfInfo:function(t){var o='<table class="table table-bordered"><caption></caption><thead></thead><tbody><tr><td class="first-col">姓名</td> <td class="second-col">'+t.name+'</td><td class="first-col">性别</td><td class="second-col">'+t.sex+"</td></tr><tr></tr><tr><td>借书证</td><td>"+t.libraryCardNo+"</td><td>学号</td><td>"+t.studentId+"123456789</td></tr><tr><td>班级号</td><td>"+t.classId+"</td><td>状态</td><td>"+t.studyState+'</td></tr><tr><td colspan="4">联系方式（如联系方式有变动请及时修改，以便能及时联系到你。谢谢！）</td></tr><tr><td>手机号码:</td><td>'+t.telephone+"</td><td>第二联系号码:</td><td>"+t.telephone+"</td></tr><tr><td>QQ:</td><td></td><td>电子邮箱:</td><td>"+t.email+'</td></tr><tr><td colspan="5">所借阅的书籍:'+t.books+'</td></tr><tr><td colspan="5"> <div align="center"><button type="button" class="btn">联系方式修改</button></div></td></tr></tbody></table>';$("#userInfo").html(o)},showBookDetailInfo:function(t){$($(t).find("td")[0]).text();var o='<table class="table"><tbody><tr><td class="book-info-width">书籍名称:</td> <td class="book-info-width">'+data.bookInfo.bookName+'</td> <td class="book-info-width">作者:</td> <td class="book-info-width">'+data.bookInfo.author+"</td> </tr> <tr> <td>页数:</td> <td>"+data.bookInfo.pages+"</td> <td>版本:</td> <td>"+data.bookInfo.version+"</td> </tr> <tr> <td>出版社:</td> <td>"+data.bookInfo.publishingHouse+"</td> <td>类型:</td> <td>"+data.bookInfo.type+'</td> </tr> <tr> <td rowspan="2"  class="info-brief">图书简介:</td> <td rowspan="2" colspan="3">'+data.bookInfo.bookBriefIntroduction+"</td> </tr> </tbody> </table>";$("#book-detail-info").find(".modal-body").html(o)}};$(window).load(function(){var o=data.bookList,d=new PAGER;pageObjArr.push(d),d.initPager(1,o.length,10,7,"book-info-pager","book-info-pager-div",o,t.getBookInfoData,0);var a=new PAGER;pageObjArr.push(a),a.initPager(1,o.length,10,7,"book-read-info-pager","book-read-info-pager-div",o,t.checkBookCondition,1),t.setSelfInfo(data.student)}),$("#book-info-pager").on("click",".show-detail-info",function(){t.showBookDetailInfo($(this))})});